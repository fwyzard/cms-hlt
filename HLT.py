implement technical changes from https://twiki.cern.ch/twiki/bin/view/CMS/TSG_03_V_10
